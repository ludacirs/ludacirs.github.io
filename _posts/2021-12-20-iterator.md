---
title: iterator
name: ludacirs
link: https://github.com/ludacirs
date: 2021-12-20 15:36:00 +0900
categories: [JavaScript, Quiz]
tags: [Quiz, iterator, iterable, surrogates]
---

# Iterator

ì´í„°ë ˆì´í„°ë¥¼ ì•Œê¸° ì „ì— ìš©ì–´ë¥¼ ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•˜ê³  ê°€ì

### iterator 

`next()` ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆëŠ” ê°ì²´ë¡œ `[Symbol.iterator]`ì— ì˜í•´ ìƒì„±ëœë‹¤.

`next()`ë©”ì„œë“œëŠ” ë°˜ë“œì‹œ `{done: boolean [, value: any]}` ê¼´ì˜ ê°ì²´ë¥¼ ë°˜í™˜í•´ì•¼í•œë‹¤.

### iterable

ë°˜ë³µ ê°€ëŠ¥í•œ ì´ë¼ëŠ” ëœ»ì„ ë‚˜íƒ€ë‚´ë©° iteratorê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” `[Symbol.iterator]` ë¥¼ ê°€ì§€ê³  ìˆëŠ” ê°ì²´ë¥¼  iterableê°ì²´ë¼ê³  í•œë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¥ iterableê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¥ iterableê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

1. `Array`
2. `Set`
3. `Map`
4. DOM `NodeList`
5. primitive `string`

ì •ë¦¬í•´ë³´ë©´ ìœ„ì˜ ë‹¤ì„¯ ì¹œêµ¬ë“¤ì€ `[Symbol.iterator]`ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê³ , `[Symbol.iterator]`ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ `next()`ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆëŠ” iteratorê°ì²´ê°€ ë°˜í™˜ëœë‹¤.

```js
const arr = [1,2,3];
const iterator = arr[Symbol.iterator]();

console.log(iterator);

```

<img width="400" src="https://user-images.githubusercontent.com/45571631/146713079-f70e3437-d110-457b-aede-ba6e72d03324.png">

### for...of

ëˆˆì¹˜ ì±ˆ ì‚¬ëŒë„ ìˆê² ì§€ë§Œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ë°˜ë³µê°€ëŠ¥í•œ ê°ì²´ë“¤ì€ `for...of `ìœ¼ë¡œ ìˆœíšŒê°€ ê°€ëŠ¥í•˜ë‹¤. ì•„ë¬´ ìƒê° ì—†ì´ ì¨ì™”ë˜ `for...of`ëŠ” iterable ê°ì²´ë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•œ ê²ƒì´ì—ˆë‹¤.

`for...of`ê°€ ì–´ë–»ê²Œ iterableê°ì²´ë¥¼ ìˆœíšŒí•˜ëŠ”ì§€ ê³¼ì •ì„ ì‚´í´ë³´ì

1. `for...of`ê°€ ì‹œì‘ë˜ìë§ˆì `for...of`ëŠ” iterableê°ì²´ì—ì„œ  `[Symbol.iterator]`ë¥¼ í˜¸ì¶œí•œë‹¤.
2. ì´í›„ `for...of`ëŠ” 1ë²ˆì—ì„œ í˜¸ì¶œí•œ `[Symbol.iterator]`ì˜ ë°˜í™˜ ê°ì²´ì¸ iteratorê°ì²´ë¡œ ë™ì‘í•œë‹¤.
3. `for...of`ì€ iteratorê°ì²´ì˜ `next()`ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  `{done: false [, value: any]}`ë¥¼ ë°˜í™˜ë°›ëŠ”ë‹¤
4. `next()`ë©”ì„œë“œì˜ ë°˜í™˜ê°’ì´ `{done: true}`ì¼ ë•Œê¹Œì§€ ë°˜ë³µí•œë‹¤.

ë™ì‘ ê³¼ì •ë§Œ ì‚´í´ë³´ë©´ `for...of`ì€ ë‚´ì¥ iterableê°ì²´ê°€ ì•„ë‹ˆë”ë¼ë„ `[Symbol.iterator]`ë©”ì„œë“œë§Œ ê°€ì§€ê³  ìˆìœ¼ë©´ ì‘ë™í•  ê²ƒ ê°™ë‹¤. 

ì‚¬ì‹¤  `[Symbol.iterator]`ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©´ ì´ë¯¸ iterableê°ì²´ì´ê¸´ í•˜ì§€ë§Œ ì¤‘ìš”í•œ ê²ƒì€ iterable í•˜ì§€ ì•Šì€ ê°ì²´ë¥¼ iterableí•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ

### iterableí•˜ê²Œ ë§Œë“¤ê¸°

```js
const obj = {
  a: 1,
  b: 2,
  c: 3,
  d: 4,
};

for(let v of obj){
  console.log(v);
}
// Uncaught TypeError: obj is not iterable
```

objëŠ” iterableí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë‹¹ì—°íˆ `for...of`ë¥¼ ì“¸ ìˆ˜ ì—†ë‹¤.

ìš°ë¦¬ê°€ objì— ì§ì ‘ `[Symbol.iterator]`ë¥¼ ìƒì„±í•´ì¤€ë‹¤ë©´ ì–´ë–¨ê¹Œ?

```js
const range = {
  from: 1,
  to: 5,
};

range[Symbol.iterator] = function (){
  return {
    current: this.from,
    last: this.to,

    next(){
      if(this.current <= this.last){
        return {done: false, value: this.current++};
      } else{
        return {done: true};
      }
    }
  }
}

for(let v of range){
  console.log(v); // 1, 2, 3, 4, 5
}
```

fromë¶€í„° toê¹Œì§€ ìˆœì°¨ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” iteratorë¥¼ ë°˜í™˜í•˜ëŠ” `[Symbol.iterator]`ë©”ì„œë“œë¥¼ ìƒì„±í•´ì£¼ë©´ `for...of`ê°€ ì˜ ëŒì•„ê°€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

## ì„œë¡œê²Œì´íŠ¸ í˜ì–´

ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë¬¸ìì—´ì„ ì—­ìˆœìœ¼ë¡œ ë’¤ì§‘ë‹¤ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì„ ë§ˆì£¼í•  ìˆ˜ ìˆë‹¤.

```js
const str = 'ğ’³ğŸ˜‚'; 
const reversedStr = str.split('').reverse();

console.log(reversedStr); // ï¿½ğŸ’³ï¿½
```

UTF-16ë¡œ í‘œí˜„í•  ìˆ˜ ì—†ëŠ” ë¬¸ìë“¤ì„ ë‘ ê°œì˜ 16ë¹„íŠ¸ í•œ ìŒìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ì¨ë¡œê²Œì´íŠ¸ í˜ì–´ ë¬¸ìë¥¼ ë§ˆì£¼í•  ê²½ìš° ì´ëŸ° ì¼ì´ ë°œìƒí•œë‹¤.

```js
'ğ’³' === '\uD835\uDCB3'
'ğŸ˜‚' === '\uD83D\uDE02'
```

ì‚¬ì‹¤ì€ ì´ëŸ°ì‹ìœ¼ë¡œ í‘œí˜„ë˜ì–´ìˆê¸° ë•Œë¬¸ì— splitì„ ì‚¬ìš©í•´ì„œ ë’¤ì§‘ì„ ê²½ìš° 16ë¹„íŠ¸ ë‹¨ìœ„ë¡œ ì˜ë ¤ ì›ë˜ í˜ì–´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— í˜•íƒœë¥¼ ìœ ì§€í•˜ì§€ ëª»í•˜ê³  ê´´ë¬¸ìê°€ ë‚˜ì˜¤ê²Œë˜ëŠ” ê²ƒ

ì´ ê²½ìš° ì‰½ê²Œ ë¬¸ìì—´ì„ ë’¤ì§‘ì„ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì¡´ì¬í•˜ëŠ”ë° `Array.from()`ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

## Array.from()

```js
const str = 'ğ’³ğŸ˜‚';
const reversedStr = Array.from(str).reverse().join('');

console.log(reversedStr); // ğŸ˜‚ğ’³
```

`Array.from`ì€ 16ë¹„íŠ¸ ë‹¨ìœ„ë¡œ ëŠì–´ì„œ ë°°ì—´ì„ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ìœ ì‚¬ ë°°ì—´ ê°ì²´ì™€ iterable ê°ì²´ë¥¼ ì§„ì§œ ë°°ì—´ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.

ë¬¸ìì—´ì€ iterable ê°ì²´ì´ê¸° ë•Œë¬¸ì— iteratorë¥¼ ì´ìš©í•´ ë¬¸ìì—´ì„ ì˜ë¼ì„œ ë°°ì—´ì„ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹Œ next()ê°€ ë°˜í™˜í•˜ëŠ” ê°’ìœ¼ë¡œ ë°°ì—´ì„ ë§Œë“¤ê¸° ë•Œë¬¸ì— ì •ìƒì ì¸ ë¬¸ìì—´ ë’¤ì§‘ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤.

split ë©”ì„œë“œì— ë¹„í•´ ì†ë„ëŠ” ëŠë¦¬ë‹¤ê³  í•˜ë‹ˆ ì°¸ê³ .

## ìœ ì‚¬ ë°°ì—´ ê°ì²´

ì¸ë±ìŠ¤ì™€ length í”„ë¡œí¼í‹°ê°€ ìˆëŠ” ê°ì²´ë¥¼ ìœ ì‚¬ ë°°ì—´ ê°ì²´ë¼ê³  ë¶€ë¥¸ë‹¤.

ì™œ ì¸ë±ìŠ¤ì™€ lengthê¹Œì§€ ìˆëŠ” ë”°ë¡œ ì¶”ìƒí™”ì‹œí‚¨ ê²ƒì¼ê¹Œ? ê·¸ëƒ¥ ë°°ì—´ì„ ì‚¬ìš©í•˜ë©´ ì•ˆë˜ëŠ” ê±¸ê¹Œ?

[ìŠ¤íƒì˜¤ë²„í”Œë¡œìš°](https://stackoverflow.com/questions/44105556/why-use-an-array-like-object-in-javascript)ì— ë‚˜ì™€ ê°™ì€ ê¶ê¸ˆì¦ì„ ê°€ì§„ ì‚¬ëŒì´ ì¡´ì¬í•˜ê¸´í–ˆì§€ë§Œ.. ë”±íˆ ì‹œì›í•œ ëŒ€ë‹µì„ ì–»ì§€ëŠ” ëª»í–ˆë‹¤

ê°œì¸ì ì¸ ìƒê°ìœ¼ë¡œëŠ” ìœ ì‚¬ ë°°ì—´ì€ ë°°ì—´ì— ìˆëŠ” ë©”ì„œë“œë¥¼ ë”°ë¡œ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì–´ì„œ ì¸ ê²ƒ ê°™ë‹¤.

ëŒ€í‘œì ì¸ ìœ ì‚¬ ë°°ì—´ì—ëŠ” argumentsë‚˜ querySelectorAllë¡œ ê°€ì ¸ì˜¨ nodesë“±ì´ ìˆëŠ”ë° ì´ ì¹œêµ¬ë“¤ì€ ë°ì´í„°ë¥¼ ê·¸ëƒ¥ ë‹´ì€ ì»¨í…Œì´ë„ˆ ìì²´ì¼ ë¿ì´ë‹¤. ì´ë¥¼ ë°°ì—´ë¡œ í‘œí˜„í•œë‹¤ë©´ ë¶ˆí•„ìš”í•œ pushë‚˜ pop ë“±ë“±ì˜ ë©”ì„œë“œë“¤ì´ ë“¤ì–´ê°€ê²Œ ë˜ëŠ”ë° ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•¨ì´ ì•„ë‹Œê°€..ì‹¶ë‹¤.



---

> [Javascriptì˜ Iteratorì™€ Generator](https://ui.toast.com/weekly-pick/ko_20151021)
>
> [iterable ê°ì²´](https://ko.javascript.info/iterable)
