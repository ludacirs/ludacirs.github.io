<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><title>Redux | Dev Note</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Dev Note"><meta name="application-name" content="Dev Note"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.updateMermaid(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://ludacirs.github.io/assets/avatar.webp" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Dev Note</a></div><div class="site-subtitle font-italic">개발 이모저모</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ludacirs" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['iknowjsnow','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Redux</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Redux</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/username">ludacirs</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2022-02-24 03:44:00 +0900" data-toggle="tooltip" data-placement="bottom" title="Thu, Feb 24, 2022, 3:44 AM +0900" >Feb 24</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2536 words"> <em>14 min</em> read</span></div></div></div><div class="post-content"><h1 id="redux">Redux</h1><p>리덕스는 이전에 블로그를 만들면서 살짝 다뤄본 적이 있는데 아무 생각없이 따라서 만들기만해서 사실 모르는 것에 가까워서 복습.</p><h2 id="왜-사용해야할까">왜 사용해야할까?<a href="#왜-사용해야할까"><i class="fas fa-hashtag"></i></a></h2></h2><p>사실 잘 모르겠다</p><p>리덕스를 이제서야 공부하는 이유 중 하나이기도 한데</p><p>여태까지 작업한 사이드 프로젝트에서는 context와 useReducer를 이용해서 충분히 상태관리가 가능했기 때문에 리덕스에 눈돌리지 않아서 계속 미루고 있었다</p><p>하지만 최근에 작업하는 프로젝트에 기능을 조금씩 붙이다보니 전역으로 관리해야할 상태가 늘어나고, Provider가 충첩되며, 서버에서 받아오는 데이터를 관리하기가 까다로워짐에 따라서 다른 상태관리 툴이 필요하다고 판단되어 눈이 조금씩 돌아가는 중</p><p>조금 공부하다 보니 최근에는 서버쪽 데이터를 React Query나 SWR, rtk-query를 사용해서 또 한 번 분리하는 흐름으로 움직이던데</p><p>리덕스가 가장 오래되고 사용량이 많으니까 redux =&gt; rtk-query =&gt; React Query 순으로 공부하려고 한다.</p><h2 id="redux-toolkit">redux-toolkit<a href="#redux-toolkit"><i class="fas fa-hashtag"></i></a></h2></h2><p>리덕스를 도입하지 않은 이유 중 하나가 보일러 플레이트 코드 작성이 너무 많아서 이다.</p><p>액션을 정의하고, 그 액션 생성함수를 만들고, 초기 상태값을 만들어서 넣어주고, 리듀서도 작성하고, 리듀서를 또 합치고, 미들웨어도 붙여주고..</p><p>관리해야할 상태나 액션이 늘어나면 또 위의 작업을 반복하고, 거기에 타입스크립트를 쓰고 있다면 타입추론이 굉장히 힘들다.</p><p>그 불편함들을 모두 해소해주는게 리덕스에서 만든 redux-toolkit인데 공식적으로 쓰는 걸 추천하고 있으니 redux-toolkit으로 진행한다.</p><h3 id="slice">slice<a href="#slice"><i class="fas fa-hashtag"></i></a></h3></h3><p>하나의 리듀서에 들어가는 액션, 액션 생성자, 리듀서, 초기 상태 4가지를 slice라고 부르는데 createSlice 메서드를 통해서 한 번에 정의할 수 있다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">createSlice</span><span class="p">,</span> <span class="nx">PayloadAction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@reduxjs/toolkit</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">CounterState</span> <span class="p">{</span>
  <span class="nl">value</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// 초기 상태값 설정</span>
<span class="kd">const</span> <span class="nx">initialState</span><span class="p">:</span> <span class="nx">CounterState</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">value</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">counterSlice</span> <span class="o">=</span> <span class="nx">createSlice</span><span class="p">({</span>
  <span class="c1">// slice 이름</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">counter</span><span class="dl">"</span><span class="p">,</span>
  <span class="c1">// 초기값 부여</span>
  <span class="nx">initialState</span><span class="p">,</span>
  <span class="c1">// 리듀서</span>
  <span class="na">reducers</span><span class="p">:</span> <span class="p">{</span>
    <span class="nx">increment</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">state</span><span class="p">.</span><span class="nx">value</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">decrement</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">state</span><span class="p">.</span><span class="nx">value</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">incrementByAmount</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="na">action</span><span class="p">:</span> <span class="nx">PayloadAction</span><span class="o">&lt;</span><span class="kr">number</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">state</span><span class="p">.</span><span class="nx">value</span> <span class="o">+=</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">decrementByAmount</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="p">{</span><span class="nx">payload</span><span class="p">}:</span> <span class="nx">PayloadAction</span><span class="o">&lt;</span><span class="kr">number</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">state</span><span class="p">.</span><span class="nx">value</span> <span class="o">-=</span> <span class="nx">payload</span><span class="p">;</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">counterSlice</span><span class="p">;</span>
</pre></table></code></div></div><p>이렇게 정의해주게되면 <code class="language-plaintext highlighter-rouge">counterSlice</code>에 위에서 말한 4가지를 라이브러리가 모두 정의해준다.</p><p>약간 의아한 점은 redux tutorial 템플릿에서 제공해주는 코드에는 ` incrementByAmount(state, action: PayloadAction<number>)`와 같이 type과 payload가 들어가있는 action을 인자로 받고 있는 것을 볼 수 있는데 그 밑의 액션 처럼 `decrementByAmount(state, {payload}: PayloadAction<number>)`같이 써야하는게 아닌가 생각이 든다</number></number></p><p>createSlice 내부에 있는 reducer로직에서는 개발자가 이미 판단된 action에 대해서 type값을 사용할 일이 없을 것 같은데 왜 payload만 받지 않고 type이 같이 들어간 action을 받는게 default값인지 모르겠다는 점</p><p>잘은 모르지만 미들웨어같은 걸 도입할 때 reducer 로직 내부에서 action의 type값을 사용할 일이 있는 걸까?</p><p>그리고 reducers 내부에 정의되는 로직들은 불변성을 신경써줄 필요가 없이 라이브러리가 불변성을 가지고 업데이트를 시켜준다.</p><h3 id="acitons">acitons<a href="#acitons"><i class="fas fa-hashtag"></i></a></h3></h3><p>액션 생성자들은 다음과 같이 편하게 뽑아올 수 있다.</p><p><code class="language-plaintext highlighter-rouge">export const { increment, decrement, incrementByAmount, decrementByAmount } = counterSlice.actions;</code></p><h2 id="configurestore">configureStore<a href="#configurestore"><i class="fas fa-hashtag"></i></a></h2></h2><p>configureStore는 기존의 createStore로 하던 부분을 추상화한 함수로 기존에 개발자가 직접해야했던 설정들을 기본적으로 해준다.</p><div class="language-ts highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">configureStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@reduxjs/toolkit</span><span class="dl">'</span>

<span class="k">import</span> <span class="nx">rootReducer</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./reducers</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">configureStore</span><span class="p">({</span> <span class="na">reducer</span><span class="p">:</span> <span class="nx">rootReducer</span> <span class="p">})</span>
</pre></table></code></div></div><p>이처럼 타이핑하면 Redux DevTools가 활성화되고, redux-thunk가 추가된다.</p><p>좀 더 자세한 설정을 보면</p><div class="language-ts highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">configureStore</span><span class="p">({</span>
  <span class="nx">reducer</span><span class="p">,</span>
  <span class="na">middleware</span><span class="p">:</span> <span class="p">(</span><span class="nx">getDefaultMiddleware</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">getDefaultMiddleware</span><span class="p">().</span><span class="nx">concat</span><span class="p">(</span><span class="nx">logger</span><span class="p">),</span>
  <span class="na">devTools</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">production</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">preloadedState</span><span class="p">,</span>
  <span class="na">enhancers</span><span class="p">:</span> <span class="p">[</span><span class="nx">reduxBatch</span><span class="p">],</span>
<span class="p">})</span>
</pre></table></code></div></div><p>다른것들은 다 명시적이라 설명이 필요 없을 것 같고</p><ul><li>preloadedState: 스토어의 초기값을 설정할 수 있다.<li>enchaners: 기본적으로 배열이며 콜백 함수로 정의되기도 한다. 미들웨어의 순서를 설정하는 옵션</ul><p><br /></p><h2 id="사용하기">사용하기<a href="#사용하기"><i class="fas fa-hashtag"></i></a></h2></h2><div class="language-typescript highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">dispatch</span> <span class="o">=</span> <span class="nx">useDispatch</span><span class="p">();</span>
<span class="kd">const</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useSelector</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">);</span>
</pre></table></code></div></div><p>평소처럼 이렇게 사용하면 되겠지만 이러면 typescript와 사용하기 힘들고, 장점을 살릴 수도 없다.</p><p>그래서 useDispatch와 useSelector를 한 번 가공해주어야한다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">useAppDispatch</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">useDispatch</span><span class="o">&lt;</span><span class="p">{</span><span class="nx">현재</span> <span class="nx">사용하고</span> <span class="nx">있는</span> <span class="nx">리덕스</span> <span class="nx">디스패치의</span> <span class="nx">타입</span><span class="p">}</span><span class="o">&gt;</span><span class="p">();</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">useAppSelector</span><span class="p">:</span> <span class="nx">TypedUseSelectorHook</span><span class="o">&lt;</span><span class="p">{</span><span class="nx">현재</span> <span class="nx">사용하고</span> <span class="nx">있는</span> <span class="nx">리덕스</span> <span class="nx">state의</span> <span class="nx">타입</span><span class="p">}</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">useSelector</span><span class="p">;</span>
</pre></table></code></div></div><p>이 훅들을 정의해서 사용하면 디스패치를 사용할 때 기존에 정의되지 않은 액션들이 들어올 때 에러를 발견할 수 있고, useSelector를 사용할 때 자동완성의 힘을 빌릴 수 있다.</p><p>중괄호 안에 있는 타입들은 configureStore를 정의한 곳에서 뽑아낼 수 있다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">configureStore</span><span class="p">({</span> <span class="na">reducer</span><span class="p">:</span> <span class="nx">rootReducer</span> <span class="p">})</span>

<span class="k">export</span> <span class="kd">type</span> <span class="nx">AppDispatch</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">;</span>
<span class="k">export</span> <span class="kd">type</span> <span class="nx">RootState</span> <span class="o">=</span> <span class="nx">ReturnType</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">store</span><span class="p">.</span><span class="nx">getState</span><span class="o">&gt;</span><span class="p">;</span>
</pre></table></code></div></div><h2 id="비동기-액션">비동기 액션<a href="#비동기-액션"><i class="fas fa-hashtag"></i></a></h2></h2><p>RTK에는 기본적으로 redux-thunk와 thunk 액션 생성 함수가 내장되어있고, 이를 이용해서 간단하게 비동기 로직을 적용할 수 있다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">incrementAsync</span> <span class="o">=</span> <span class="nx">createAsyncThunk</span><span class="p">(</span>
  <span class="dl">"</span><span class="s2">counter/incrementAsync</span><span class="dl">"</span><span class="p">,</span>
  <span class="k">async</span> <span class="p">(</span><span class="nx">amount</span><span class="p">:</span> <span class="kr">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">data</span><span class="p">:</span> <span class="kr">number</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">((</span><span class="nx">resolve</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">resolve</span><span class="p">({</span> <span class="na">data</span><span class="p">:</span> <span class="nx">amount</span> <span class="p">});</span>
      <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
  <span class="p">});</span>
</pre></table></code></div></div><p>1초 뒤 data를 반환하는 덩크를 만들었다.</p><p>이 덩크에 해당하는 액션이 들어오면 내부의 Promise값의 진행도에 따라서 reducer에 <code class="language-plaintext highlighter-rouge">counter/incrementAsync/pending</code>, <code class="language-plaintext highlighter-rouge">counter/incrementAsync/fulfilled</code>, <code class="language-plaintext highlighter-rouge">counter/incrementAsync/reject</code>의 액션이 자동으로 reducer로 들어가게된다</p><p>thunk 액션은 reducer 내부에 정의할 수 없기 때문에 외부에서 만들어져 들어오는 action을 처리하기 위한 extraReducers의 콜백에 해당 로직들을 정의한다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">counterSlice</span> <span class="o">=</span> <span class="nx">createSlice</span><span class="p">({</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">counter</span><span class="dl">"</span><span class="p">,</span>
  <span class="nx">initialState</span><span class="p">,</span>
  <span class="na">reducers</span><span class="p">:</span> <span class="p">{</span>
		<span class="c1">//...</span>
  <span class="p">},</span>
  <span class="na">extraReducers</span><span class="p">:</span> <span class="p">(</span><span class="nx">builder</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">builder</span>
      <span class="p">.</span><span class="nx">addCase</span><span class="p">(</span><span class="nx">incrementAsync</span><span class="p">.</span><span class="nx">pending</span><span class="p">,</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">pending...</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">state</span><span class="p">.</span><span class="nx">wait</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">})</span>
      <span class="p">.</span><span class="nx">addCase</span><span class="p">(</span><span class="nx">incrementAsync</span><span class="p">.</span><span class="nx">fulfilled</span><span class="p">,</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">done.</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">action</span><span class="p">);</span>
        <span class="nx">state</span><span class="p">.</span><span class="nx">wait</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      	<span class="nx">state</span><span class="p">.</span><span class="nx">value</span> <span class="o">+=</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">;</span>
      <span class="p">});</span>
  <span class="p">},</span>
<span class="p">});</span>
</pre></table></code></div></div><p>콜백은 builder 파라미터를 받으며 builder는 addCase, addMatcher, addDefaultCase 3가지 메서드를 제공하며 각각 chaining이 가능하게 builder 스스로를 반환한다.</p><ul><li>addCase: switch 문에서 리듀서를 정의할 때 쓰는 case와 동일하다.<li>addMatcher: 여러 액션을 묶어서 처리할 때 사용. <code class="language-plaintext highlighter-rouge">isAnyOf</code>, <code class="language-plaintext highlighter-rouge">isAllOf</code> 과 같이 제공되는 메서드를 이용<li>addDefaultCase: default 와 동일</ul><p>위에서 말했듯이 3가지 상태로 extarReducers에 전달되며 이전과 같이 state값을 수정해주면 불변성을 유지하며 상태가 업데이트된다.</p><h3 id="에러-핸들링">에러 핸들링<a href="#에러-핸들링"><i class="fas fa-hashtag"></i></a></h3></h3><h4 id="reducer에서">reducer에서<a href="#reducer에서"><i class="fas fa-hashtag"></i></a></h4></h4><p>createAsyncThunk가 반환하는 promise는 결과와 상관없이 항상 이행된(fulfilled)상태로 반환해준다.</p><p>그래서 에러를 잡기 위해서는 조금 더 손을 써줘야한다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">someAsync</span> <span class="o">=</span> <span class="nx">createAsyncThunk</span><span class="p">(</span>
  <span class="dl">"</span><span class="s2">someAsync</span><span class="dl">"</span><span class="p">,</span>
  <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span><span class="p">{</span>
	    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetchData</span><span class="p">();</span>      
	    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">){</span>
      <span class="k">return</span> <span class="nx">e</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">});</span>
 
</pre></table></code></div></div><p>무조건 fulfilled를 반환한다는 것은 위의 fetchData()에서 데이터를 제대로 불러오지못해서 에러가 발생해도 fulfilled 처리되어 ` .addCase(incrementAsync.fulfilled, (state, action)`문이 실행된다.</p><p><img width="305" alt="errordone" src="https://user-images.githubusercontent.com/45571631/155386212-34cfb62b-0ed7-4bba-b174-22b7695e48b0.png" /> 에러가 발생했는데도 콘솔에는 done.이 찍히는 모습</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">someAsync</span> <span class="o">=</span> <span class="nx">createAsyncThunk</span><span class="p">(</span>
  <span class="dl">"</span><span class="s2">someAsync</span><span class="dl">"</span><span class="p">,</span>
  <span class="k">async</span> <span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="p">{</span> <span class="nx">rejectWithValue</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span><span class="p">{</span>
	    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetchData</span><span class="p">();</span>  
	    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">){</span>
      <span class="k">return</span> <span class="nx">rejectWithValue</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">);</span>
</pre></table></code></div></div><p>덩크 생성자의 두번째 파라미터에 rejectWithValue를 이용하면 reject된 promise를 보낼 수 있다.</p><h4 id="컴포넌트-내부에서">컴포넌트 내부에서<a href="#컴포넌트-내부에서"><i class="fas fa-hashtag"></i></a></h4></h4><p>리듀서에서도 에러핸들링을 할 수 있지만 컴포넌트 내부에서도 할 수 있다.</p><p>이 쪽이 컴포넌트 별로 다르게 에러를 핸들링할 수 있다는 점에서 조금 더 권장되는 방법</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">unwrapResult</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@reduxjs/toolkit</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">handleEvent</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">resultAction</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">dispatch</span><span class="p">(</span><span class="nx">asyncFucntion</span><span class="p">(</span><span class="nx">value</span><span class="p">));</span>
    <span class="kd">const</span> <span class="nx">fulfilled</span> <span class="o">=</span> <span class="nx">unwrapResult</span><span class="p">(</span><span class="nx">resultAction</span><span class="p">);</span>
    <span class="c1">//성공</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//실패</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><p>디스패치로 받아온 결과값을 unwrapResult 메서드로 벗겨내는 과정에서 결과값이 정상이면 성공 로직을 에러가 난다면 catch문에서 실패 로직을 처리해주면된다.</p><h3 id="비동기-취소하기">비동기 취소하기<a href="#비동기-취소하기"><i class="fas fa-hashtag"></i></a></h3></h3><h4 id="시작-전">시작 전<a href="#시작-전"><i class="fas fa-hashtag"></i></a></h4></h4><p>createAsyncThunk의 3번째 인자로 들어가는 option에서 condition 콜백에서 true, false로 비동기 로직 시작 전에 취소시킬 수가 있다.</p><p>condition의 첫 번째 인자 : 덩크를 실행시킬 때 전달받은 값 condition의 두 번째 인자 : Pick&lt;thunkAPI, ‘getState’, ‘extra’&gt;</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">someAsync</span> <span class="o">=</span> <span class="nx">createAsyncThunk</span><span class="p">(</span>
  <span class="dl">"</span><span class="s2">someAsync</span><span class="dl">"</span><span class="p">,</span>
  <span class="k">async</span> <span class="p">(</span><span class="nx">_</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span><span class="p">{</span>
	    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetchData</span><span class="p">();</span>  
	    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">){</span>
      <span class="k">return</span> <span class="nx">rejectWithValue</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">{</span> <span class="na">conditon</span><span class="p">:</span> <span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="p">{</span><span class="nx">getState</span><span class="p">,</span> <span class="nx">extra</span><span class="p">})</span> <span class="o">=&gt;</span><span class="p">{</span>
    <span class="c1">// 비교로직</span>
  <span class="p">}}</span>
<span class="p">);</span>
</pre></table></code></div></div><p>보통 첫 번째 인자로 받은 값과 getState로 현재 state를 비교해서 true/false로 취소 결정을 하는 것 같다</p><h4 id="시작-중">시작 중<a href="#시작-중"><i class="fas fa-hashtag"></i></a></h4></h4><p>이미 시작되어버린 비동기 로직도 디스패치의 promise.abort() 메서드를 통해 취소하는 것이 가능하다.</p><div class="language-typescript highlighter-rouge"><div class="code-header"> <span label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">handleEvent</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">promise</span> <span class="o">=</span> <span class="nx">dispatch</span><span class="p">(</span><span class="nx">asyncFucntion</span><span class="p">(</span><span class="nx">value</span><span class="p">));</span>
    <span class="nx">promise</span><span class="p">.</span><span class="nx">abort</span><span class="p">();</span>
<span class="p">};</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/react/'>React</a>, <a href='/categories/redux/'>Redux</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/react/" class="post-tag no-text-decoration" >React</a> <a href="/tags/redux/" class="post-tag no-text-decoration" >Redux</a> <a href="/tags/toolkit/" class="post-tag no-text-decoration" >toolkit</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/HTTP/">HTTP</a><li><a href="/posts/HTTPS/">HTTPS</a><li><a href="/posts/Web_Worker/">Web Worker</a><li><a href="/posts/Get_Post_and_Cache/">Get, Post, Cache</a><li><a href="/posts/%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80_VSync/">브라우저는 VSync를 어떻게 활용하고 있을까?</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/quiz/">Quiz</a> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/assign/">assign</a> <a class="post-tag" href="/tags/ca/">CA</a> <a class="post-tag" href="/tags/cache/">cache</a> <a class="post-tag" href="/tags/composite/">Composite</a> <a class="post-tag" href="/tags/cors/">CORS</a> <a class="post-tag" href="/tags/create/">create</a> <a class="post-tag" href="/tags/defineproperty/">defineProperty</a> <a class="post-tag" href="/tags/get/">get</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/React_Query/"><div class="card-body"> <em class="timeago small" date="2022-03-04 03:08:00 +0900" >Mar 4</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>React Query</h3><div class="text-muted small"><p> React-Query 상태 분리하기 리액트를 다룰 때 상태를 이용해서 뷰를 렌더링한다. 프론트에서 표현하는 데이터가 많아지면서 상태도 상당히 늘어났다. 그중 대표적인 것이 서버에서 받아오는 데이터 이러한 데이터들은 보통 전역에서 관리해야되거나, 복잡한 로직을 가지고 있는 경우가 많기 때문에 상태관리 라이브러리의 힘을 빌리는 경우가 많다. 많은...</p></div></div></a></div><div class="card"> <a href="/posts/V8_Memory/"><div class="card-body"> <em class="timeago small" date="2022-01-09 22:24:00 +0900" >Jan 9</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>V8 엔진의 메모리 관리</h3><div class="text-muted small"><p> V8 메모리 관리 nodejs는 자바스크립트로 이루어져있고 자바스크립트는 V8엔진에 의해서 돌아간다 가비지 컬렉터의 작동하는 방식, 코드를 작성할 때 백그라운드에서 발생하는 일, 메모리가 해제되는 방식을 알아보자 메모리 영역 V8의 메모리공간을 Resident Set이라 부른다. 메모리 세그먼트는 아래와 같이 나뉜다 Code : 실행...</p></div></div></a></div><div class="card"> <a href="/posts/%ED%95%98%EB%93%9C%EC%9B%A8%EC%96%B4_%EA%B0%80%EC%86%8D/"><div class="card-body"> <em class="timeago small" date="2022-01-08 17:33:00 +0900" >Jan 8</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>하드웨어 가속</h3><div class="text-muted small"><p> 하드웨어 가속 하드웨어 가속이란? 브라우저가 페이지를 렌더링하는 과정 중 CSSOM과 DOM 트리를 합쳐서 렌더 트리를 만든 뒤, 렌더 트리를 참조해 화면에 나타낼 부분을 Render Layer를 만드는데 이 과정에서 CPU가 아닌 GPU를 이용해 paint될 레이어들을 Graphics Layer로 분리한다. CPU가 아닌 하드웨어를 사용하기 때...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/V8_Memory/" class="btn btn-outline-primary" prompt="Older"><p>V8 엔진의 메모리 관리</p></a> <a href="/posts/React_Query/" class="btn btn-outline-primary" prompt="Newer"><p>React Query</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/username">ludacirs</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/quiz/">Quiz</a> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/assign/">assign</a> <a class="post-tag" href="/tags/ca/">CA</a> <a class="post-tag" href="/tags/cache/">cache</a> <a class="post-tag" href="/tags/composite/">Composite</a> <a class="post-tag" href="/tags/cors/">CORS</a> <a class="post-tag" href="/tags/create/">create</a> <a class="post-tag" href="/tags/defineproperty/">defineProperty</a> <a class="post-tag" href="/tags/get/">get</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
